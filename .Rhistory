ch <- createWorkbook()
for (cat_no in 1:5) {
df_menu <- data.frame(name=c(), msg=c(), price=c())
print(cat_no)
url <- paste0(base_url, categories[cat_no])
html <- read_html(url)
html %>%
html_nodes('delivery-template') %>%
html_nodes('item-list') %>%
html_node('.items') %>%
html_nodes('li') -> lis
lis
price <- c()
name <- c()
msg <- c()
for (li in lis) {
pr <- html_node(li, '.price') %>% html_text()
pr <- gsub("\\\\", "", pr)
price <- c(price, pr)
name <- c(name, html_text(li, 'h3') %>% html_text())
msg <- c(msg, html_node(li, '.msg') %>% html_text())
}
menu <- data.frame(name=name, msg=msg, price=price)
df_menu <- rbind.data.frame(df_menu, menu)
addWorksheet(ch, cat_names[cat_no])
writeDataTable(ch, cat_names[cat_no], df_menu)
}
cat_names = c('추천메뉴','치킨세트', '버거세트', '스낵_사이드', '음료')
categories = c('recommend','chicken', 'burger', 'snack', 'drink')
base_url <- 'https://www.kfckorea.com/delivery/'
ch <- createWorkbook()
for (cat_no in 1:5) {
df_menu <- data.frame(name=c(), msg=c(), price=c())
print(cat_no)
url <- paste0(base_url, categories[cat_no])
html <- read_html(url)
html %>%
html_nodes('delivery-template') %>%
html_nodes('item-list') %>%
html_node('.items') %>%
html_nodes('li') -> lis
lis
price <- c()
name <- c()
msg <- c()
for (li in lis) {
pr <- html_node(li, '.price') %>% html_text()
pr <- gsub("\\\\", "", pr)
price <- c(price, pr)
name <- c(name, html_text(li, 'h3') %>% html_text())
msg <- c(msg, html_node(li, '.msg') %>% html_text())
}
menu <- data.frame(name=name, msg=msg, price=price)
df_menu <- rbind.data.frame(df_menu, menu)
addWorksheet(ch, cat_names[cat_no])
writeDataTable(ch, cat_names[cat_no], df_menu)
}
saveWorkbook(wb, file="D:/Workspace/R_Project/kfc_delibery_menu.xlsx")
ch <- createWorkbook()
for (cat_no in 1:5) {
df_menu <- data.frame(name=c(), msg=c(), price=c())
print(cat_no)
url <- paste0(base_url, categories[cat_no])
html <- read_html(url)
html %>%
html_nodes('delivery-template') %>%
html_nodes('item-list') %>%
html_node('.items') %>%
html_nodes('li') -> lis
lis
price <- c()
name <- c()
msg <- c()
for (li in lis) {
pr <- html_node(li, '.price') %>% html_text()
pr <- gsub("\\\\", "", pr)
price <- c(price, pr)
name <- c(name, html_text(li, 'h3') %>% html_text())
msg <- c(msg, html_node(li, '.msg') %>% html_text())
}
menu <- data.frame(name=name, msg=msg, price=price)
df_menu <- rbind.data.frame(df_menu, menu)
addWorksheet(ch, cat_names[cat_no])
writeDataTable(ch, cat_names[cat_no], df_menu)
}
saveWorkbook(ch, file="D:/Workspace/R_Project/kfc_delibery_menu.xlsx")
for (cat_no in 1:5) {
df_menu <- data.frame(name=c(), msg=c(), price=c())
print(cat_no)
url <- paste0(base_url, categories[cat_no])
html <- read_html(url)
html %>%
html_nodes('delivery-template') %>%
html_nodes('item-list') %>%
html_node('.items') %>%
html_nodes('li') -> lis
lis
price <- c()
name <- c()
msg <- c()
for (li in lis) {
pr <- html_node(li, '.price') %>% html_text()
pr <- gsub("\\\\", "", pr)
price <- c(price, pr)
name <- c(name, html_text(li, 'h3') %>% html_text())
msg <- c(msg, html_node(li, '.msg') %>% html_text())
}
menu <- data.frame(name=name, msg=msg, price=price)
df_menu <- rbind.data.frame(df_menu, menu)
addWorksheet(ch, cat_name[cat_no])
writeDataTable(ch, cat_name[cat_no], df_menu)
}
cat_name = c('추천메뉴','치킨세트', '버거세트', '스낵_사이드', '음료')
categories = c('recommend','chicken', 'burger', 'snack', 'drink')
base_url <- 'https://www.kfckorea.com/delivery/'
ch <- createWorkbook()
for (cat_no in 1:5) {
df_menu <- data.frame(name=c(), msg=c(), price=c())
print(cat_no)
url <- paste0(base_url, categories[cat_no])
html <- read_html(url)
html %>%
html_nodes('delivery-template') %>%
html_nodes('item-list') %>%
html_node('.items') %>%
html_nodes('li') -> lis
lis
price <- c()
name <- c()
msg <- c()
for (li in lis) {
pr <- html_node(li, '.price') %>% html_text()
pr <- gsub("\\\\", "", pr)
price <- c(price, pr)
name <- c(name, html_text(li, 'h3') %>% html_text())
msg <- c(msg, html_node(li, '.msg') %>% html_text())
}
menu <- data.frame(name=name, msg=msg, price=price)
df_menu <- rbind.data.frame(df_menu, menu)
addWorksheet(ch, cat_name[cat_no])
writeDataTable(ch, cat_name[cat_no], df_menu)
}
saveWorkbook(ch, file="D:/Workspace/R_Project/kfc_delibery_menu.xlsx")
for (cat_no in 1:5) {
df_menu <- data.frame(name=c(), msg=c(), price=c())
print(cat_no)
url <- paste0(base_url, categories[cat_no])
html <- read_html(url)
html %>%
html_nodes('delivery-template') %>%
html_nodes('item-list') %>%
html_node('.items') %>%
html_nodes('li') -> lis
lis
}
lis
html %>%
html_nodes('delivery-template') %>%
html_nodes('item-list') %>%
html_node('.items') %>%
html_nodes('li') -> lis
lis
html
html %>%
html_nodes('delivery-template') %>%
html_nodes('item-list') %>%
html_node('.items') %>%
html_nodes('li') -> lis
lis
for (cat_no in 1:5) {
df_menu <- data.frame(name=c(), msg=c(), price=c())
print(cat_no)
url <- paste0(base_url, categories[cat_no])
html <- read_html(url)
html %>%
html_nodes('delivery-template') %>%
html_nodes('item-list') %>%
html_node('.items') %>%
html_nodes('li') -> lis
lis
}
html %>%
html_nodes('delivery-template') %>%
html_nodes('item-list') %>%
html_node('.items') %>%
html_nodes('li') -> lis
lis
url <- paste0(base_url, categories[1])
html <- read_html(url)
html %>%
html_nodes('delivery-template') %>%
html_nodes('item-list') %>%
html_node('.items') %>%
html_nodes('li') -> lis
lis
html
for (cat_no in 1:5) {
df_menu <- data.frame(name=c(), msg=c(), price=c())
print(cat_no)
url <- paste0(base_url, categories[1])
html <- read_html(url)
html %>%
html_node('.items') %>%
html_nodes('li') -> lis
lis
price <- c()
name <- c()
msg <- c()
for (li in lis) {
pr <- html_node(li, '.price') %>% html_text()
pr <- gsub("\\\\", "", pr)
price <- c(price, pr)
name <- c(name, html_text(li, 'h3') %>% html_text())
msg <- c(msg, html_node(li, '.msg') %>% html_text())
}
menu <- data.frame(name=name, msg=msg, price=price)
df_menu <- rbind.data.frame(df_menu, menu)
addWorksheet(ch, cat_name[cat_no])
writeDataTable(ch, cat_name[cat_no], df_menu)
}
for (cat_no in 1:11) {
df_books <- data.frame(title=c(), writer=c(), price=c())
print(cat_no)
for (i in 1:pages[cat_no]) {
url <- paste0(base_url, page, i, category, categories[cat_no], sort)
html <- read_html(url)
html %>%
html_node('.sub_book_list_area') %>%
html_nodes('li') -> lis
lis
price <- c()
title <- c()
writer <- c()
for (li in lis) {
pr <- html_node(li, '.price') %>% html_text()
pr <- gsub("\\\\", "", pr)
price <- c(price, pr)
title <- c(title, html_node(li, '.book_tit') %>% html_text())
writer <- c(writer, html_node(li, '.book_writer') %>% html_text())
}
books <- data.frame(title=title, writer=writer, price=price)
df_books <- rbind.data.frame(df_books, books)
}
addWorksheet(wb, cat_names[cat_no])
writeDataTable(wb, cat_names[cat_no], df_books)
}
cat_name = c('추천메뉴','치킨세트', '버거세트', '스낵_사이드', '음료')
categories = c('recommend','chicken', 'burger', 'snack', 'drink')
base_url <- 'https://www.kfckorea.com/delivery/'
ch <- createWorkbook()
for (cat_no in 1:5) {
df_menu <- data.frame(name=c(), msg=c(), price=c())
print(cat_no)
url <- paste0(base_url, categories[cat_no])
html <- read_html(url)
html %>%
html_node('.items') %>%
html_nodes('li') -> lis
lis
price <- c()
name <- c()
msg <- c()
for (li in lis) {
pr <- html_node(li, '.price') %>% html_text()
pr <- gsub("\\\\", "", pr)
price <- c(price, pr)
name <- c(name, html_text(li, 'h3') %>% html_text())
msg <- c(msg, html_node(li, '.msg') %>% html_text())
}
menu <- data.frame(name=name, msg=msg, price=price)
df_menu <- rbind.data.frame(df_menu, menu)
addWorksheet(ch, cat_name[cat_no])
writeDataTable(ch, cat_name[cat_no], df_menu)
}
for (cat_no in 1:5) {
df_menu <- data.frame(name=c(), msg=c(), price=c())
print(cat_no)
url <- paste0(base_url, categories[cat_no])
html <- read_html(url)
html %>%
html_nodes('item-list') %>%
html_nodes('li') -> lis
lis
price <- c()
name <- c()
msg <- c()
for (li in lis) {
pr <- html_node(li, '.price') %>% html_text()
pr <- gsub("\\\\", "", pr)
price <- c(price, pr)
name <- c(name, html_text(li, 'h3') %>% html_text())
msg <- c(msg, html_node(li, '.msg') %>% html_text())
}
menu <- data.frame(name=name, msg=msg, price=price)
df_menu <- rbind.data.frame(df_menu, menu)
addWorksheet(ch, cat_name[cat_no])
writeDataTable(ch, cat_name[cat_no], df_menu)
}
html %>%
html_nodes('item-list') %>%
html_nodes('li') -> lis
lis
for (cat_no in 1:5) {
df_menu <- data.frame(name=c(), msg=c(), price=c())
print(cat_no)
url <- paste0(base_url, categories[cat_no])
html <- read_html(url)
html %>%
html_nodes('item-list') %>%
html_nodes('li') -> lis
lis
for (cat_no in 1:5) {
df_menu <- data.frame(name=c(), msg=c(), price=c())
print(cat_no)
url <- paste0(base_url, categories[cat_no])
html <- read_html(url)
html %>%
html_nodes('item-list') %>%
html_nodes('li') -> lis
lis
}
)
for (cat_no in 1:5) {
df_menu <- data.frame(name=c(), msg=c(), price=c())
print(cat_no)
url <- paste0(base_url, categories[cat_no])
html <- read_html(url)
html %>%
html_nodes('item-list') %>%
html_nodes('li') -> lis
lis
}
saveWorkbook(ch, file="D:/Workspace/R_Project/kfc_delibery_menu.xlsx")
lis
url <- paste0(base_url, categories[cat_no])
html <- read_html(url)
html
library(rvest)
library(dplyr)
library(stringr)
library(openxlsx)
cat_name = c('추천메뉴','치킨세트', '버거세트', '스낵_사이드', '음료')
categories = c('recommend','chicken', 'burger', 'snack', 'drink')
base_url <- 'https://www.kfckorea.com/delivery/'
ch <- createWorkbook()
for (cat_no in 1:5) {
df_menu <- data.frame(name=c(), msg=c(), price=c())
print(cat_no)
url <- paste0(base_url, categories[cat_no])
html <- read_html(url)
html %>%
html_nodes('item-list') %>%
html_nodes('li') -> lis
lis
price <- c()
name <- c()
msg <- c()
for (li in lis) {
pr <- html_node(li, '.price') %>% html_text()
pr <- gsub("\\\\", "", pr)
price <- c(price, pr)
name <- c(name, html_text(li, 'h3') %>% html_text())
msg <- c(msg, html_node(li, '.msg') %>% html_text())
}
menu <- data.frame(name=name, msg=msg, price=price)
df_menu <- rbind.data.frame(df_menu, menu)
addWorksheet(ch, cat_name[cat_no])
writeDataTable(ch, cat_name[cat_no], df_menu)
}
saveWorkbook(ch, file="D:/Workspace/R_Project/kfc_delibery_menu.xlsx")
base_url <- 'https://www.kfckorea.com/delivery/'
ch <- createWorkbook()
df_menu <- data.frame(name=c(), msg=c(), price=c())
print(1)
url <- paste0(base_url, categories[1])
html <- read_html(url)
html
html %>%
html_nodes('item-list') %>%
html_nodes('li') -> lis
lis
html %>%
html_node('.items') %>%
html_nodes('li') -> lis
lis
html %>%
html_nodes('delivery-template') %>%
html_nodes('li') -> lis
lis
html %>%
html_nodes('delivery-template') %>%
html_node('.items') %>%
html_nodes('li') -> lis
lis
df_menu <- data.frame(name=c(), msg=c(), price=c())
url <- paste0(base_url, categories[1])
url
html <- read_html(url)
html %>%
html_nodes('delivery-template') %>%
html_node('.items') %>%
html_nodes('li') -> lis
lis
html %>%
html_nodes('delivery-template') %>%
html_node('.container') %>%
html_node('.items') %>%
html_nodes('li') -> lis
lis
html %>%
html_nodes('delivery-template') %>%
html_node('.container') %>%
html_nodes('item-list') %>%
html_node('.items') %>%
html_nodes('li') -> lis
lis
html %>%
html_nodes('delivery-template') %>%
html_node('.container') %>%
html_nodes('item-list') %>%
html_nodes('li') -> lis
lis
html %>%
html_nodes('delivery-template') %>%
html_nodes('item-list') %>%
html_nodes('li') -> lis
lis
html %>%
html_nodes('delivery-template') %>%
html_nodes('li') -> lis
lis
html %>%
html_node('delivery-template') %>%
html_nodes('li') -> lis
lis
html %>%
html_node('delivery-template') %>%
html_nodes('li') -> lis
lis
html %>%
html_node('.container') %>%
html_nodes('li') -> lis
lis
html %>%
html_nodes('delivery-template') %>%
html_nodes('li') -> lis
lis
html %>%
html_nodes('delivery-template') %>%
html_node('.container') %>%
html_nodes('li') -> lis
lis
html %>%
html_nodes('delivery-template') %>%
html_node('.items') %>%
html_nodes('li') -> lis
lis
html %>%
html_nodes('delivery-template') %>%
html_node('.items') %>%
html_nodes('li') -> lis
lis
html %>%
html_node('delivery-template') %>%
html_node('.items') %>%
html_nodes('li') -> lis
html %>%
html_nodes('delivery-template') %>%
html_node('.items') %>%
html_nodes('li') -> lis
html %>%
html_nodes('delivery-template') %>%
html_nodes('.items') %>%
html_nodes('li') -> lis
lis
html %>%
html_node('delivery-template') %>%
html_nodes('.items') %>%
html_nodes('li') -> lis
lis
html %>%
html_nodes('delivery-template') %>%
html_node('.items') %>%
html_nodes('li') -> lis
lis
html %>%
html_node('delivery-template') %>%
html_node('.items') %>%
html_nodes('li') -> lis
lis
html %>%
html_nodes('.delivery-template') %>%
html_node('.items') %>%
html_nodes('li') -> lis
lis
html %>%
html_nodes('delivery-template') %>%
html_nodes('.items') %>%
html_nodes('li') -> lis
lis
html %>%
html_nodes('delivery-template') %>%
html_nodes('li') -> lis
lis
html %>%
html_nodes('delivery-template') %>%
html_nodes('li') -> lis
lis
html %>%
html_nodes('.items') %>%
html_nodes('li') -> lis
lis
